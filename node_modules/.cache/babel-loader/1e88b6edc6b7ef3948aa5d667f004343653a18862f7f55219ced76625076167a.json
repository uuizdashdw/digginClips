{"ast":null,"code":"import { arrayUnion, doc, updateDoc } from 'firebase/firestore';\nimport { db } from '../plugins/firebase';\nexport const addUserToUserList = async user => {\n  const userRef = doc(db, 'userList', 'users');\n  const userData = {\n    uid: user.uid,\n    email: user.email,\n    displayName: user.displayName,\n    photoURL: user.photoURL,\n    clips: [],\n    addedClips: [],\n    createdAt: new Date().toLocaleString()\n  };\n  try {\n    await updateDoc(userRef, {\n      users: arrayUnion(userData)\n    });\n  } catch (err) {\n    console.error(err);\n  }\n};","map":{"version":3,"names":["arrayUnion","doc","updateDoc","db","addUserToUserList","user","userRef","userData","uid","email","displayName","photoURL","clips","addedClips","createdAt","Date","toLocaleString","users","err","console","error"],"sources":["/Users/mac/clips-project/src/api/addUserToUserList.ts"],"sourcesContent":["import { arrayUnion, doc, updateDoc } from 'firebase/firestore';\nimport { UserData } from '../types';\nimport { db } from '../plugins/firebase';\nimport { User as FirebaseUser } from 'firebase/auth';\n\nexport const addUserToUserList = async (user: FirebaseUser) => {\n\tconst userRef = doc(db, 'userList', 'users');\n\n\tconst userData: UserData = {\n\t\tuid: user.uid,\n\t\temail: user.email,\n\t\tdisplayName: user.displayName,\n\t\tphotoURL: user.photoURL,\n\t\tclips: [],\n\t\taddedClips: [],\n\t\tcreatedAt: new Date().toLocaleString(),\n\t};\n\ttry {\n\t\tawait updateDoc(userRef, {\n\t\t\tusers: arrayUnion(userData as UserData),\n\t\t});\n\t} catch (err) {\n\t\tconsole.error(err);\n\t}\n};\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,GAAG,EAAEC,SAAS,QAAQ,oBAAoB;AAE/D,SAASC,EAAE,QAAQ,qBAAqB;AAGxC,OAAO,MAAMC,iBAAiB,GAAG,MAAOC,IAAkB,IAAK;EAC9D,MAAMC,OAAO,GAAGL,GAAG,CAACE,EAAE,EAAE,UAAU,EAAE,OAAO,CAAC;EAE5C,MAAMI,QAAkB,GAAG;IAC1BC,GAAG,EAAEH,IAAI,CAACG,GAAG;IACbC,KAAK,EAAEJ,IAAI,CAACI,KAAK;IACjBC,WAAW,EAAEL,IAAI,CAACK,WAAW;IAC7BC,QAAQ,EAAEN,IAAI,CAACM,QAAQ;IACvBC,KAAK,EAAE,EAAE;IACTC,UAAU,EAAE,EAAE;IACdC,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,cAAc,CAAC;EACtC,CAAC;EACD,IAAI;IACH,MAAMd,SAAS,CAACI,OAAO,EAAE;MACxBW,KAAK,EAAEjB,UAAU,CAACO,QAAoB;IACvC,CAAC,CAAC;EACH,CAAC,CAAC,OAAOW,GAAG,EAAE;IACbC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;EACnB;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}